{"version":3,"file":"static/js/349.b3b31388.chunk.js","mappings":"oMACaA,EAAY,SAAC,GAA2C,IAAD,IAAxCC,MAASC,EAA+B,EAA/BA,GAAIC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,YAC9C,OACE,gBAAIC,MAAO,CAAEC,QAAS,OAAQC,cAAe,UAA7C,WACE,gBACEC,QAAQ,OACRH,MAAO,CAAEI,MAAO,SAChBC,IACEN,EAAW,0CAC4BA,GACnC,uGAENO,IAAKR,KAEP,SAAC,KAAD,CAAMS,GAAE,kBAAaV,GAArB,SAA4BC,GAAS,eACrC,SAAC,KAAD,MAGL,EChBYU,EAAa,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cAC3B,OACE,+BACGA,QADH,IACGA,OADH,EACGA,EAAeC,KAAI,SAAAd,GAAK,OACvB,SAACD,EAAD,CAEEC,MAAOA,EACPE,MAAOF,EAAME,OAAS,aAFjBF,EAAMC,GAFU,KAS9B,C,0HCiDD,UA1DqB,WACnB,OAAuBc,EAAAA,EAAAA,MAAhBC,GAAP,eACA,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA0BJ,EAAAA,EAAAA,WAAS,GAAnC,eAAOK,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WAAM,wCACd,gGAEwBV,EAAaW,IAAI,WAGnCR,EAAU,IACVI,GAAS,IAGG,KAAVH,EATR,iCAU4BQ,EAAAA,EAAAA,IAAmBR,GAV/C,OAUYS,EAVZ,OAWMV,EAAUU,GACVN,GAAS,GAZf,yDAeIO,QAAQC,IAAI,SAAZ,MACAR,GAAS,GAhBb,2DADc,uBAAC,WAAD,wBAoBdS,EACD,GAAE,CAACZ,EAAOJ,IAWX,OACE,iCACE,kBAAMiB,SAXW,SAAAC,GACnBA,EAAIC,iBACJ,IAAMC,EAAWF,EAAIG,cAAcC,SAASlB,MAAMmB,MAC/CC,OACAC,cACHpB,EAASe,GACTZ,EAAS,iBAAD,OAAkBY,GAC3B,EAIG,WACE,kBAAOM,KAAK,OAAOC,KAAK,QAAQC,YAAY,uBAC5C,mBAAQF,KAAK,SAAb,uBAEDpB,EAAQ,MACP,8BACGJ,EAAO2B,OAAS,GACf,SAAC,IAAD,CAAYhC,cAAeK,EAAQM,SAAUA,KAE7C,0CAMX,C","sources":["components/MoviesList/HomeMovie.jsx","components/MoviesList/MoviesList.jsx","pages/SearchMovies.jsx"],"sourcesContent":["import { Link, Outlet } from 'react-router-dom';\nexport const HomeMovie = ({ movie: { id, title, poster_path } }) => {\n  return (\n    <li style={{ display: 'flex', flexDirection: 'column' }}>\n      <img\n        loading=\"lazy\"\n        style={{ width: '100px' }}\n        src={\n          poster_path\n            ? `https://image.tmdb.org/t/p/w300/${poster_path}`\n            : 'https://motorhome.ee/wp-content/uploads/2020/01/blank-profile-picture-973460_1280-e1523978675847.png'\n        }\n        alt={title}\n      />\n      <Link to={`/movies/${id}`}>{title || 'Not found'}</Link>\n      <Outlet />\n    </li>\n  );\n};\n","import { HomeMovie } from './HomeMovie';\n\nexport const MoviesList = ({ popularMovies }) => {\n  return (\n    <ul>\n      {popularMovies?.map(movie => (\n        <HomeMovie\n          key={movie.id}\n          movie={movie}\n          title={movie.title || 'not found'}\n        />\n      ))}\n    </ul>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { fetchMoviesByQuery } from 'api';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\n\nconst SearchMovies = () => {\n  const [searchParams] = useSearchParams();\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('');\n  const [error, setError] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    async function fetchMovies() {\n      try {\n        const searchQuery = searchParams.get('query');\n\n        if (!searchQuery) {\n          setMovies([]);\n          setError(true);\n        }\n\n        if (query !== '') {\n          const results = await fetchMoviesByQuery(query);\n          setMovies(results);\n          setError(false); // Reset error state when there are results\n        }\n      } catch (error) {\n        console.log('Error:', error);\n        setError(true);\n      }\n    }\n    fetchMovies();\n  }, [query, searchParams]);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    const newQuery = evt.currentTarget.elements.query.value\n      .trim()\n      .toLowerCase();\n    setQuery(newQuery);\n    navigate(`/movies?query=${newQuery}`);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"query\" placeholder=\"Enter movie title\" />\n        <button type=\"submit\">Search</button>\n      </form>\n      {error ? null : (\n        <>\n          {movies.length > 0 ? (\n            <MoviesList popularMovies={movies} navigate={navigate} />\n          ) : (\n            <p>No results</p>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nexport default SearchMovies;\n"],"names":["HomeMovie","movie","id","title","poster_path","style","display","flexDirection","loading","width","src","alt","to","MoviesList","popularMovies","map","useSearchParams","searchParams","useState","movies","setMovies","query","setQuery","error","setError","navigate","useNavigate","useEffect","get","fetchMoviesByQuery","results","console","log","fetchMovies","onSubmit","evt","preventDefault","newQuery","currentTarget","elements","value","trim","toLowerCase","type","name","placeholder","length"],"sourceRoot":""}